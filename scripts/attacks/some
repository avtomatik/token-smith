# 3Ô∏è‚É£ ATTACK SCENARIOS (THIS IS THE GOLD)

Create a folder: `scripts/attacks/`

---

## üî¥ Attack 1: Expired token

Change `exp` to past time.

Expected result:

```json
401 Token expired
```

Lesson:

> Stateless tokens die silently.

---

## üî¥ Attack 2: Wrong audience

Issue token with:

```python
"aud": "other-api"
```

Lesson:

> Audience prevents token reuse across services.

---

## üî¥ Attack 3: Tampered JWT

Manually edit payload in jwt.io.

Lesson:

> Signature ‚â† encryption
> Integrity is everything.

---

## üî¥ Attack 4: SAML replay

Re-POST the same SAMLResponse.

Lesson:

> SAML needs replay protection (IDs + cache).

---

## üî¥ Attack 5: Fake IdP

Change issuer to `evil-idp`.

Lesson:

> Trust is a configuration problem, not a crypto problem.

---

# 4Ô∏è‚É£ Running everything with `uv`

```bash
uv init
uv add fastapi uvicorn pyjwt python-multipart
uv run uvicorn app.main:app --reload
```

---

